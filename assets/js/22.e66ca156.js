(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{360:function(t,e,a){"use strict";a.r(e);var s=a(0),l=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("完成拉下拉刷新的功能后，老板要求下拉刷新要能自定义。于是到网上找了找，发现了react-native-pull这个开源库。但是这个库本身已经很久没更新，里面使用的还是被淘汰的listView，于是我到源码看了看，把列表替换成了flatList，顺便修复了几个bug。")]),t._v(" "),a("h4",{attrs:{id:"github地址：react-native-flatlist-pull"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github地址：react-native-flatlist-pull"}},[t._v("#")]),t._v(" github地址："),a("a",{attrs:{href:"https://github.com/fuxiang123/react-native-flatlist-pull",target:"_blank",rel:"noopener noreferrer"}},[t._v("react-native-flatlist-pull"),a("OutboundLink")],1)]),t._v(" "),a("h1",{attrs:{id:"react-native-flatlist-pull"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#react-native-flatlist-pull"}},[t._v("#")]),t._v(" react-native-flatlist-pull")]),t._v(" "),a("p",[t._v("react-native-flatlist-pull是一个基于FlatList,支持Android和iOS的下拉刷新列表组件。是在另一个项目"),a("a",{attrs:{href:"https://github.com/greatbsky/react-native-pull",target:"_blank",rel:"noopener noreferrer"}},[t._v("react-native-pull"),a("OutboundLink")],1),t._v("的基础上进行修改而成。主要将原项目中已经过时的ListView替换成较新的FlatList，同时去掉了原项目中存在BUG的PullView。")]),t._v(" "),a("h2",{attrs:{id:"pulllist-使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pulllist-使用"}},[t._v("#")]),t._v(" "),a("code",[t._v("PullList")]),t._v(" 使用")]),t._v(" "),a("ol",[a("li",[t._v("使用npm："),a("code",[t._v("npm install react-native-flatlist-pull@latest --save")]),a("br"),t._v("\n使用yarn："),a("code",[t._v("yarn add react-native-flatlist-pull")])]),t._v(" "),a("li",[t._v("编写代码:")])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("  import {PullList} from 'react-native-pull';\n\n  onPullRelease(resolve) {\n    //do something\n    setTimeout(() => {\n          resolve();\n      }, 3000);\n  }\n  \n  <PullList\n    onPullRelease={this.onPullRelease}\n    // topIndicatorRender={this.topIndicatorRender}\n    topIndicatorHeight={60}\n    isRefreshing={this.state.isRefreshing}\n    \n    {...and some FlatList Props}\n  />\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("完整示例代码:"),a("a",{attrs:{href:"https://github.com/fuxiang123/react-native-flatlist-pull/blob/master/example/App.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("Example"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"更多配置项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更多配置项"}},[t._v("#")]),t._v(" 更多配置项")]),t._v(" "),a("p",[a("strong",[t._v("PullList 下拉效果属性")])]),t._v(" "),a("ul",[a("li",[a("strong",[a("code",[t._v("style")])]),t._v(": 设置组件样式，比如可以设置width/height/backgroudColor等")]),t._v(" "),a("li",[a("strong",[a("code",[t._v("onPulling")])]),t._v(": 处于"),a("code",[t._v("pulling")]),t._v("状态时执行的方法")]),t._v(" "),a("li",[a("strong",[a("code",[t._v("onPullOk")])]),t._v(": 处于"),a("code",[t._v("onPullOk")]),t._v("状态时执行的方法")]),t._v(" "),a("li",[a("strong",[a("code",[t._v("onPullRelease")])]),t._v(": 处于"),a("code",[t._v("pullrelease")]),t._v("状态时执行的方法")]),t._v(" "),a("li",[a("strong",[a("code",[t._v("topIndicatorRender")])]),t._v(": 顶部刷新指示组件的渲染方法, 接受4个参数: "),a("code",[t._v("ispulling")]),t._v(", "),a("code",[t._v("ispullok")]),t._v(", "),a("code",[t._v("ispullrelease")]),t._v("，"),a("code",[t._v("gesturePosition")]),t._v("，你可以使用"),a("code",[t._v("gesturePosition")]),t._v("定义动画头部.")]),t._v(" "),a("li",[a("strong",[a("code",[t._v("topIndicatorHeight")])]),t._v(": 顶部刷新指示组件的高度, 若定义了"),a("code",[t._v("topIndicatorRender")]),t._v("则同时需要此属性")]),t._v(" "),a("li",[a("strong",[a("code",[t._v("isPullEnd")])]),t._v(": 是否已经下拉结束，若为true则隐藏顶部刷新指示组件，非必须")]),t._v(" "),a("li",[a("strong",[a("code",[t._v("isRefreshing")])]),t._v(": 标示下拉刷新状态的属性，同react-native官网FlatList中的属性"),a("a",{attrs:{href:"https://reactnative.cn/docs/flatlist/#refreshing",target:"_blank",rel:"noopener noreferrer"}},[t._v("refreshing"),a("OutboundLink")],1),t._v("作用类似。为true显示头部刷新指示器，为false则隐藏头部刷新指示器")])]),t._v(" "),a("p",[a("strong",[t._v("PullList 上拉加载更多，可直接使用官网FlatList的属性"),a("a",{attrs:{href:"https://reactnative.cn/docs/flatlist/#onendreached",target:"_blank",rel:"noopener noreferrer"}},[t._v("onEndReached"),a("OutboundLink")],1),t._v("与"),a("a",{attrs:{href:"https://reactnative.cn/docs/flatlist/#onEndReachedThreshold",target:"_blank",rel:"noopener noreferrer"}},[t._v("onEndReachedThreshold"),a("OutboundLink")],1),t._v("进行实现，详情请见"),a("a",{attrs:{href:"https://github.com/fuxiang123/react-native-flatlist-pull/blob/master/example/App.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("example"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"licensed"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#licensed"}},[t._v("#")]),t._v(" Licensed")]),t._v(" "),a("p",[t._v("MIT License")])])}),[],!1,null,null,null);e.default=l.exports}}]);